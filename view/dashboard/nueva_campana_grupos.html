<div class="bloqueDerecha panel panel-default" ng-controller="NuevaCampController">
	<div class="panel-heading">
		Elegir Grupos
		<span style="" class="icon-angle-right pull-right">
			<a ui-sref="dashboard.campanas"  style="color:black; text-decoration:none;">X</a>
		</span>
	</div>

	<div class="panel-body">
		<h3>{{campana.title}}</h3>
		<h4>Seleccione los destinatarios</h4>
		<div class="input-group">  
			<input type="text" class="form-control" placeholder="Grupos...">  
			<span class="input-group-btn">  
				<button class="btn btn-default" type="button">Buscar!</button>  
			</span>
	</div><br>  
		
		<label>Grupos</label>
		<div class="list-group">
			<span ng-repeat="grupo in grupos">
				<input type="checkbox" name="gruposList" id="{{grupo.id}}" ng-model="campana.grupos"> {{grupo.title}}<br>
			</span><br>
		</div>

		<a class="btn btn-default" ui-sref="dashboard.campanas.nueva"><- Atras</a>
		<a ui-sref="diseñarCampana({ campana: campana })" onclick="validarCheck()" class="btn btn-default">Siguiente -></a>
	</div>


<!-- Validación checkboxes -->
<script type="text/javascript">
	function validarCheck() 
	{ 
			var fields = $("input[name='gruposList']").serializeArray(); 
			if (fields.length === 0) 
			{ 
					alert('Debe seleccionar al menos un grupo'); 
					// cancel submit
					return false;
			} 
			else 
			{ 
					alert(fields.length + " items selected"); 
			}
	}

	// register event on form, not submit button
	$('#form-campId').submit(validarCheck)
</script>
</div>